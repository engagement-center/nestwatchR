<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimate NestWatch Summary Dates â€¢ nestwatchR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Estimate NestWatch Summary Dates">
<meta property="og:description" content="nestwatchR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nestwatchR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_Into-and-Data-Access.html">Introduction to NestWatch Data and Data Access</a>
    </li>
    <li>
      <a href="../articles/b_Data-Cleaning.html">Conduct Common NestWatch Data Cleaning Procedures</a>
    </li>
    <li>
      <a href="../articles/c_Data-Filtering.html">Filter NestWatch Data on Finer Scales</a>
    </li>
    <li>
      <a href="../articles/d_Data-Estimation.html">Estimate NestWatch Summary Dates</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kimsavides/nestwatchR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Estimate NestWatch Summary Dates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kimsavides/nestwatchR/blob/HEAD/vignettes/d_Data-Estimation.Rmd" class="external-link"><code>vignettes/d_Data-Estimation.Rmd</code></a></small>
      <div class="hidden name"><code>d_Data-Estimation.Rmd</code></div>

    </div>

    
    
<p>The NestWatch database holds a wealth of nesting data. But, due to
participant omissions, differing protocols over time, and assimilation
of other datasets, not all of these data are in the appropriate summary
data fields. For instance, a participant may forget to input the clutch
size, but that data may exist in the nest visits section if the
participant recorded numbers of eggs and chicks during their nest
visits. The <code>nw.est...</code> functions help users estimate
<code>Clutch.Size</code>, <code>First.Lay.Date</code>,
<code>Hatch.Date</code>, and <code>Fledge.Date</code>.</p>
<p>Each of these four estimation functions are coded to estimate based
on the most proximal event to that being estimated or based off the
event with the least general variability in birds (see each section
below). Though these functions try to use the best available data, the
precision of the resulting estimates can not be guaranteed.</p>
<div class="section level2">
<h2 id="estimate-clutch-size">Estimate Clutch Size<a class="anchor" aria-label="anchor" href="#estimate-clutch-size"></a>
</h2>
<p>Clutch size is a common omission in the NestWatch dataset.
<code><a href="../reference/nw.estclutchsize.html">nw.estclutchsize()</a></code> takes a merged NestWatch dataframe as
<code>data =</code>, and has an optional <code>output =</code> argument
to rename the resulting dataframe.</p>
<p>This function looks for data contained in several columns to estimate
what the clutch size of the nest was. Because NestWatch participants do
not necessarily visit each nest everyday or record all data fields on
every visit the data needed to estimate clutch size may be spread over
many columns in the nest visits section. The function looks, by
Attempt.ID, in the nest visits and summary data and finds (1) the
maximum egg count, (2) the unhatched eggs count, (3) the maximum young
count in the nest (dead + alive live), (4) the number of fledges
recorded for each attempt. From these summaries, the function calculates
the maximum number of observed (1) host eggs, (2) young (alive/dead) +
unhatched eggs, (3) fledged + unhatched eggs, to get the maximum
contents of the nest at each state (lay/incubation, nestling, and
fledging)</p>
<p>Depending on the data available, the certainty of the clutch size
estimate may vary, or in some cases, may not be estimable. For instance,
a successful nest with 4 eggs recorded on several checks and 4 fledged
young observed would have high certainty that the clutch size was 4.
However, if a nest was observed with 2 eggs on one check and a week
later was found predated, the certainty of the clutch size is not known.
In this case the clutch size would be estimated as 2 but may have been
higher depending on the exact (unobserved) failure date</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load wrens example data</span></span>
<span><span class="va">wrens</span> <span class="op">&lt;-</span> <span class="fu">nestwatchR</span><span class="fu">::</span><span class="va"><a href="../reference/wren_quickstart.html">wren_quickstart</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">wrens</span><span class="op">$</span><span class="va">Attempt.ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># &gt; [1] 7626    # total attempts in wrens</span></span>
<span></span>
<span><span class="co"># How many attempts have un-entered clutch sizes</span></span>
<span><span class="va">empty_clutchsize</span> <span class="op">&lt;-</span> <span class="va">wrens</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Clutch.Size</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">empty_clutchsize</span><span class="op">$</span><span class="va">Attempt.ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># &gt; [1] 2228    # number of NA clutch sizes</span></span>
<span></span>
<span><span class="co"># Run estclutchsize</span></span>
<span><span class="fu"><a href="../reference/nw.estclutchsize.html">nw.estclutchsize</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wrens</span>, output <span class="op">=</span> <span class="st">"estimated.clutch"</span><span class="op">)</span></span>
<span><span class="va">still_empty</span> <span class="op">&lt;-</span> <span class="va">estimated.clutch</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Clutch.Size</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">still_empty</span><span class="op">$</span><span class="va">Attempt.ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># &gt; [1] 376     # number of clutch sizes not estimated</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="estimate-first-lay-date">Estimate First Lay Date<a class="anchor" aria-label="anchor" href="#estimate-first-lay-date"></a>
</h2>
<p>First lay dates can be estimated if we know how many eggs were
present if teh nest was visited during the egg laying phase. The
<code><a href="../reference/nw.estfirstlay.html">nw.estfirstlay()</a></code> can help a user identify which attempts
have enough data to estimate lay dates for. This function takes a merged
NestWatch dataframe as <code>data =</code>, a user-provided nest
phenology dataframe (<code>phenology =</code>, see below for details),
and has an optional <code>output =</code> argument to rename the
resulting dataframe.</p>
<p>This function uses data spread across several datafields within the
NestWatch dataset to estimate the lay date fo the first egg of the
attemptâ€™s clutch. In order, the function determines if (1) the nest was
visited during the egg laying phase, (2) the attempt has a hatch date,
and (3) if the nest has a fledge date. By checking in this order, the
function estimates the lay date from the most proximal event date. If
the nest was visited during lay, the estimated lay date will likely be
more precise than if estimated off of a fledge date (as there can be
variation in incubation and nestling timeframes). By counting backwards
in time from the most proximal event through the appropriate nest
phases, we can estimate first lay dates. The timeframe between these
events (lay, incubation, nestling, fledge), varies by species and may
vary due to other variables like latitude. To account for this, this
function takes the required <code>phenology =</code> argument, which is
a user-provided dataframe with species-level nest phenology data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phenology</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bewwre"</span>, <span class="st">"carwre"</span><span class="op">)</span>,</span>
<span>                        Clutch.Size  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                        Eggs.per.Day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>                        Incubation   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">16</span><span class="op">)</span>,</span>
<span>                        Nestling     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">13</span><span class="op">)</span>,</span>
<span>                        Total.Nesting.Period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">phenology</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>paging <span class="op">=</span> <span class="cn">F</span>, scrollX <span class="op">=</span> <span class="cn">T</span>, searching  <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Push test for Kim</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Kim Savides, Robyn Bailey, David Bonter.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
