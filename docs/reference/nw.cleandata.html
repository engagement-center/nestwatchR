<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform Common Cleaning Procedures to NestWatch Data — nw.cleandata • nestwatchR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform Common Cleaning Procedures to NestWatch Data — nw.cleandata"><meta name="description" content="NestWatch data are collected by volunteer participants (researchers &amp;amp; the public) and are known to contain some errors.
This function provides several common procedures that NestWatch staff have identified to help the user clean NestWatch data for analysis.
The user should consider their research objectives/species life histories and read the full documentation below and in the vignette."><meta property="og:description" content="NestWatch data are collected by volunteer participants (researchers &amp;amp; the public) and are known to contain some errors.
This function provides several common procedures that NestWatch staff have identified to help the user clean NestWatch data for analysis.
The user should consider their research objectives/species life histories and read the full documentation below and in the vignette."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nestwatchR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.100</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/a_Intro-and-Data-Access.html">Introduction to NestWatch Data and Data Access</a></li>
    <li><a class="dropdown-item" href="../articles/b_Data-Cleaning.html">Conduct Common NestWatch Data Cleaning Procedures</a></li>
    <li><a class="dropdown-item" href="../articles/c_Data-Filtering.html">Filter NestWatch Data on Finer Scales</a></li>
    <li><a class="dropdown-item" href="../articles/d_Data-Estimation.html">Estimate NestWatch Summary Dates</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/engagement-center/nestwatchR/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Perform Common Cleaning Procedures to NestWatch Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/engagement-center/nestwatchR/blob/HEAD/R/nw.cleandata.R" class="external-link"><code>R/nw.cleandata.R</code></a></small>
      <div class="d-none name"><code>nw.cleandata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>NestWatch data are collected by volunteer participants (researchers &amp; the public) and are known to contain some errors.
This function provides several common procedures that NestWatch staff have identified to help the user clean NestWatch data for analysis.
<strong>The user should consider their research objectives/species life histories and read the full documentation below and in the vignette.</strong></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nw.cleandata</span><span class="op">(</span><span class="va">data</span>, <span class="va">mode</span>, <span class="va">methods</span>, output <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>dataframe; A dataframe containing NestWatch data.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p><code>"flag"</code> or <code>"remove"</code>; A character string defining if the user wants the identified nesting attempts to be flagged with "FLAGGED" in a new column. Or removed from the dataset.</p></dd>


<dt id="arg-methods">methods<a class="anchor" aria-label="anchor" href="#arg-methods"></a></dt>
<dd><p>character vector; A vector containing any of the letters <code>a:k</code> (not case- or order-sensitive), identifying each cleaning procedure to be conducted on the data. See <strong>Details</strong> below and the vignette for details on each procedure.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>character; An optional character string to custom name the output dataframe.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a dataframe</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>NestWatch data in the database should be considered "raw" and the user should consider their system and research objectives when
deciding what cleaning procedures to conduct. This function contains 11 cleaning procedures <code>a:k</code>. <br><br><strong>Cleaning Procedure Details</strong>:</p><ul><li><p><code>a</code>: Flag/remove attempts with attempts with `Species.Name` entered as a species known to be an obligate brood parasite. These
       species do not create their own nests, so this is not the correct interpretation of the nest species. Users may choose to look at these data more
       closely if investigating brood parasitism. See the full list or obligate brood parasite species
       <a href="https://https://engagement-center.github.io/nestwatchR/articles/b_Data-Cleaning.html#parasite-table">click here</a>.</p></li>
<li><p><code>b</code>: Flag/remove attempts with  of "no breeding behavior observed" (<code>u3</code>), "inactive" (<code>i</code>), and
       "not monitored" (<code>n</code>). These data likely represent nests or nest boxes which never received eggs or were unmonitored. Users may choose
       to include these data if looking at habitat or location data without measures of phenology or success.</p></li>
<li><p><code>c</code>: Flag/remove attempts with <code>Outcome</code> of “invasive species management” (<code>f5</code>). For these attempts, the participant
       chose to remove/alter eggs or nests of invasive species. If the user is interested in analyzing participants’ habits in invasive species
       management or using some of the data fields (e.g., clutch size, first lay date), they might consider skipping this method with the
       understanding that the outcome code is interpreted as “failure due to human interference” and standard nest survival estimates would
       not be meaningful. Note: “Invasive species management” may also be incorrectly chosen by participants trying to indicate nest failure
       caused by an invasive species, in which case it would still be prudent to flag or remove such records.</p></li>
<li><p><code>d</code>: Flag/remove attempts if outcome is a failure code (<code>f, f1, f2, f3, f6, f7</code>) but recorded fledged host young &gt; 0.
       In this case, a participant may have either characterized the nest's outcome incorrectly, recorded the presence of fledged host young
       incorrectly, or mischaracterized brood parasite young as host. Discerning the true outcome may not be possible. If an attempt
       produces any number of fledged host young, the attempt is considered successful.</p></li>
<li><p><code>e</code>: Flag/remove attempt if <code>Outcome</code> is success (<code>s1</code>), but recorded fledged host young = 0. Inverse of <code>d</code>.</p></li>
<li><p><code>f</code>: Flag/remove attempt if # hatched host young &gt; clutch size. This may indicate incorrectly entered data or long lengths of time
       between nest checks where summary data was not properly updated. An analyst may choose to review these attempts by looking with caution
       at the nest visit data to validate hatched young and clutch sizes.</p></li>
<li><p><code>g</code>: Flag/remove attempt if # fledged host young &gt; # hatched host young. Similar to <code>f</code>.</p></li>
<li><p><code>h</code>: Flag/remove attempts for which NestWatch failed to identify a region (<code>Subnational.Code == “XX-”</code>).
       Subnational.Code is automatically assigned based on coordinates supplied by the participant. Many attempts identified as XX- likely resulted
        from nests being located in water bodies and/or participants entering incorrect coordinates. Consider removing the “XX” attempts if the
        coordinates are implausible for the focal species and consider inclusion if analyzing coastal or water-nesting species (e.g., Osprey
        nesting on channel markers).</p></li>
<li><p><code>i</code>: Flag/remove attempts where the number of eggs or young decrease and then subsequently increase. This may happen if
       a nest fails and a new attempt is started at the same location, which should be two individual nesting attempts. If the analyst is
       looking at host response to depredation events or egg dumping you may choose to retain these records.</p></li>
<li><p><code>j</code>: Flag/remove attempts with impossible nesting periods. Incorrect years are sometimes entered between date summary fields
       by participants. This may produce impossibly long nesting periods. To account for nesting phenologies in all hemispheres, this procedure
       identifies attempts in which (1) Fledge Date - First Lay Date &gt; 365 days, (2) Hatch Date - First Lay Date &gt; 84 days, or (3) Fledge Date
        - Hatch Date &gt; 300 days. These dates represent the maximum nest phenological period for any bird species and are not realistic for the
       majority of the NestWatch dataset. We encourage users to determine reasonable phenologies for their species of interest and use
       <code><a href="nw.filterphenology.html">nw.filterphenology</a></code> to run a finer filter on nest phenology dates by species.</p></li>
<li><p><code>k</code>: Flag/remove attempts where the # days between the first and the last visit are &gt; 365 days. Additional check to identify nest attempts where year portion
       of dates between nest visits were likely incorrectly entered. An analyst may choose to review these attempts individually to verify if a typo occurred.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load example wren data</span></span></span>
<span class="r-in"><span><span class="va">wrens</span> <span class="op">&lt;-</span> <span class="fu">nestwatchR</span><span class="fu">::</span><span class="va"><a href="wren_quickstart.html">wren_quickstart</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Flag data not meeting procedures e, f, g, and h</span></span></span>
<span class="r-in"><span><span class="fu">nw.cleandata</span><span class="op">(</span>data <span class="op">=</span> <span class="va">wrens</span>, mode <span class="op">=</span> <span class="st">"flag"</span>,</span></span>
<span class="r-in"><span>             methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"e"</span>, <span class="st">"f"</span>, <span class="st">"g"</span>, <span class="st">"h"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ... Beginning to identify nesting attempts that do not meet the criteria. This may take a minute ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ... Identified nesting attempts have been noted with 'FLAGGED' in the new column 'Flagged.Attempt'.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove data not meeting procedures j or k.</span></span></span>
<span class="r-in"><span><span class="fu">nw.cleandata</span><span class="op">(</span>data <span class="op">=</span> <span class="va">wrens</span>, mode <span class="op">=</span> <span class="st">"remove"</span>,</span></span>
<span class="r-in"><span>             methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"j"</span>, <span class="st">"k"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ... Beginning to identify nesting attempts that do not meet the criteria. This may take a minute ...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ... Identified nesting attempts have been removed from the new dataset.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kim Savides, Robyn L. Bailey, David N. Bonter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

