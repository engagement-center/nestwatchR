<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform Cleaning Actions on Species Names &amp; Codes — nw.cleantaxa • nestwatchR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform Cleaning Actions on Species Names &amp; Codes — nw.cleantaxa"><meta name="description" content='This function can optionally remove attempts for species identified as hybrids, "spuhs", or "slashes" and  perform
a "taxonomic roll up" of subspecies to the species level.'><meta property="og:description" content='This function can optionally remove attempts for species identified as hybrids, "spuhs", or "slashes" and  perform
a "taxonomic roll up" of subspecies to the species level.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nestwatchR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.100</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/a_Intro-and-Data-Access.html">Introduction to NestWatch Data and Data Access</a></li>
    <li><a class="dropdown-item" href="../articles/b_Data-Cleaning.html">Conduct Common NestWatch Data Cleaning Procedures</a></li>
    <li><a class="dropdown-item" href="../articles/c_Data-Estimation.html">Estimate NestWatch Summary Dates</a></li>
    <li><a class="dropdown-item" href="../articles/d_Data-Filtering.html">Filter NestWatch Data on Finer Scales</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/engagement-center/nestwatchR/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Perform Cleaning Actions on Species Names &amp; Codes</h1>
      <small class="dont-index">Source: <a href="https://github.com/engagement-center/nestwatchR/blob/HEAD/R/nw.cleantaxa.R" class="external-link"><code>R/nw.cleantaxa.R</code></a></small>
      <div class="d-none name"><code>nw.cleantaxa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function can optionally remove attempts for species identified as hybrids, "spuhs", or "slashes" and  perform
a "taxonomic roll up" of subspecies to the species level.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nw.cleantaxa</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  spuh <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  slash <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hybrid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rollsubspecies <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  output <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>dataframe; A dataframe containing NestWatch data.</p></dd>


<dt id="arg-spuh">spuh<a class="anchor" aria-label="anchor" href="#arg-spuh"></a></dt>
<dd><p>logical; Should attempt with "sp." be removed?</p><ul><li><p>if <code>NULL</code>, the default, retains identified rows in the output dataframe.</p></li>
<li><p>if <code>TRUE</code>, removes identified rows from the output dataframe.</p></li>
<li><p>if <code>FALSE</code>, retains identified rows in the output dataframe.</p></li>
</ul></dd>


<dt id="arg-slash">slash<a class="anchor" aria-label="anchor" href="#arg-slash"></a></dt>
<dd><p>logical; Should attempt with "/" be removed?</p><ul><li><p>if <code>NULL</code>, the default, retains identified rows in the output dataframe.</p></li>
<li><p>if <code>TRUE</code>, removes identified rows from the output dataframe.</p></li>
<li><p>if <code>FALSE</code>, retains identified rows in the output dataframe.</p></li>
</ul></dd>


<dt id="arg-hybrid">hybrid<a class="anchor" aria-label="anchor" href="#arg-hybrid"></a></dt>
<dd><p>logical; Should attempt with "(hybrid)" be removed?</p><ul><li><p>if <code>NULL</code>, the default, retains identified rows in the output dataframe.</p></li>
<li><p>if <code>TRUE</code>, removes identified rows from the output dataframe.</p></li>
<li><p>if <code>FALSE</code>, retains identified rows in the output dataframe.</p></li>
</ul></dd>


<dt id="arg-rollsubspecies">rollsubspecies<a class="anchor" aria-label="anchor" href="#arg-rollsubspecies"></a></dt>
<dd><p>logical; Should attempt with Species.Name of the form "species (subspecies/form) be rolled up to the species level?
Uses the current eBird taxonomy as in <code><a href="https://cornelllabofornithology.github.io/auk/reference/ebird_taxonomy.html" class="external-link">auk::ebird_taxonomy</a></code>.</p><ul><li><p>if <code>NULL</code>, the default, retains original Species.Names and Species.Codes.</p></li>
<li><p>if <code>TRUE</code>, performs taxonomic roll up for all attempts with subspecies/form designation and updates Species.Code.</p></li>
<li><p>if <code>FALSE</code>, retains original Species.Names and Species.Codes.</p></li>
</ul></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>character; An optional character string to custom name the output dataframe</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a dataframe</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The NestWatch platform uses eBird taxonomy to help users auto-complete species names. This allows users to select any
available eBird taxonomic unit, including spuhs (ie. "chickadee sp."), slashes (ie. "Tree/Violet-green Swallow"),
and subspecies/forms (ie."House Wren (northern)"). In some cases, the user may decide to omit spuhs and slashes because species
is not known with certainty. Or the user may want to analyze all subspecies/forms of a species together if these differentiations
are not biologically relevant to the analysis. This function will update both the Common Name and Species Code of the attempt
according to the current version of eBird taxonomy in <code><a href="https://cornelllabofornithology.github.io/auk/reference/ebird_taxonomy.html" class="external-link">auk::ebird_taxonomy</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://cornelllabofornithology.github.io/auk/reference/ebird_taxonomy.html" class="external-link">auk::ebird_taxonomy</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Data with species name variations</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Attempt.ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 Species.Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"House Wren (northern)"</span>, <span class="st">"House Wren (northern)"</span>,</span></span>
<span class="r-in"><span>                                 <span class="st">"chickadee sp."</span>, <span class="st">"Tree/Violet-green Swallow"</span>,</span></span>
<span class="r-in"><span>                                 <span class="st">"Mallard x American Black Duck (hybrid)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                Species.Code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"houwre1"</span>, <span class="st">"houwre1"</span>, <span class="st">"chicka1"</span>, <span class="st">"y00701"</span>, <span class="st">"x00004"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove just ".sp" attempts</span></span></span>
<span class="r-in"><span><span class="fu">nw.cleantaxa</span><span class="op">(</span><span class="va">df</span>, spuh <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove "/" and hybrid attempts, roll up subspecies to species</span></span></span>
<span class="r-in"><span><span class="fu">nw.cleantaxa</span><span class="op">(</span><span class="va">df</span>, slash <span class="op">=</span> <span class="cn">TRUE</span>, hybrid <span class="op">=</span> <span class="cn">TRUE</span>, rollsubspecies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kim Savides, Robyn L. Bailey, David N. Bonter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

